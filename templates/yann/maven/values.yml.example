##########################################
## INPUT 
##########################################

MvnPromoteRepo: ninja-rc-mvn-local
MvnRepo: ninja-dev-mvn
EdgeUrl: 'http://edge-us-yannc4-0.soleng-emea-staging.jfrog.team:80'

##########################################
## GLOBAL 
##########################################

ArtifactoryIntegration: artifactory_eu

Pipeline:
  mvnNname: backapp_mvn
  mvnContainerName: backapp_mvn_docker

##########################################
## MVN Pipeline
##########################################

GitRepoMvn:
  name: src_code_backapp_mvn
  gitProvider: yann_github
  path: cyan21/gs-multi-module
  branches:
    exclude: 'master'
    include: 'jfrog'
  files:
    exclude: '^complete\/CI\/.+'
    include: '^complete\/.+'

MvnBuild:
  stepName: build_backapp_mvn
  goals: "clean package"
  sourceLocation:       complete/
  configFileLocation:   CI
  configFileName:       mvn-art-config
  forceXrayScan:        false
  autoPublishBuildInfo: true

XrayMvnStepName: scan_backapp_mvn

BuildInfoMvn:
  resourceName: bi_backapp_mvn
  name: backapp_mvn
  autoPublishBuildInfo: true

BuildInfoMvnPromoted:
  resourceName: bi_backapp_mvn_promoted_staging

PropertyBagMvn: pb_backapp_mvn

##########################################
## DOCKER PIPELINE
##########################################

GitRepoContainer:
  name: src_dockerfile_backapp_mvn
  gitProvider: yann_github
  path: cyan21/gs-multi-module
  branches:
    exclude: 'master'
    include: 'jfrog'
  files:
    include: '^complete\/CI\/Docker\/.+'

BuildInfoContainer:
  resourceName: bi_backapp_mvn_docker
  name: backapp_mvn_docker
  autoPublishBuildInfo: true

BuildInfoContainerPromoted:
  resourceName: bi_backapp_mvn_docker_promoted_staging

FileSpecMvn:
  name: fs_backapp_mvn
  pattern:
  flat: true

PropertyBagContainer: pb_backapp_mvn_docker

XrayMvnContainerStepName: scan_backapp_mvn_docker
